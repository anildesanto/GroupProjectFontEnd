(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(50)},50:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(21),o=a.n(r),i=a(2),l=a(3),c=a(5),p=a(4),u=a(6),m=a(14),d=a(7),h=a.n(d),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault(),h.a.get("https://qacvmanager.azurewebsites.net/api/login/".concat(a.state.email,"&").concat(a.state.password)).then(function(e){console.log(e.data[0]),200===e.status&&(console.log("Login Sucessful"),a.props.loginInfo.push(e.data[0].userId),a.props.loginInfo.push(e.data[0].firstName),a.props.loginInfo.push(e.data[0].lastName),a.props.loginInfo.push(e.data[0].email),a.props.loginInfo.push(e.data[0].department.departmentId),a.props.loginInfo.push(e.data[0].department.role),console.log(a.props.loginInfo[4]),a.props.onSubmit(a.props.loginInfo),window.location.replace("#/user"))}).catch(function(e){console.log(e)})},a.getEmail=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.hashPass=function(e){e.preventDefault(),a.setState(Object(m.a)({},e.target.name,e.target.value))},a.state={email:"",password:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"login-page"},s.a.createElement("h2",{id:"loginTitle"},"Login to continue"),s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"login-form"},s.a.createElement("label",{id:"loginEmailLabel",htmlFor:"email"},"Email "),s.a.createElement("br",null),s.a.createElement("input",{id:"loginEmailField",className:"loginForm",name:"email",type:"text",placeholder:"Enter email",value:this.state.email,onChange:function(t){return e.getEmail(t)}}),s.a.createElement("br",null),s.a.createElement("label",{id:"loginPasswordLabel",htmlFor:"password"},"Password"),s.a.createElement("br",null),s.a.createElement("input",{id:"loginPasswordfield",name:"password",className:"loginForm",type:"password",placeholder:"Enter password",value:this.state.passwordInput,onChange:function(t){return e.hashPass(t)}}),s.a.createElement("br",null),s.a.createElement("button",{id:"btnLogin",className:"button",onClick:function(t){return e.onSubmit(t)}},"login"),s.a.createElement("p",{className:"message"},"Forgot password? ",s.a.createElement("a",{href:""},"Reset password.")))))}}]),t}(n.Component),v=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h4",null,"ID: ",this.props.userId),s.a.createElement("h4",null,"Name: ",this.props.firstName," ",this.props.lastName),s.a.createElement("h4",null,"Department: ",this.props.role))}}]),t}(n.Component),b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={color:""},a.handleCV=function(e){e.preventDefault(),console.log("New CVS:",a.props.userId),a.setState({color:"#AAAAAA"}),h.a.get("https://qacvmanager.azurewebsites.net/api/user/".concat(a.props.userId,"/cv")).then(function(e){a.props.onClick(e.data)})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("tbody",null,s.a.createElement("tr",{className:"row",onClick:this.handleCV,style:{backgroundColor:this.state.color}},s.a.createElement("td",{className:"cell"},this.props.userId),s.a.createElement("td",{className:"cell"},this.props.firstName," ",this.props.lastName),s.a.createElement("td",{className:"cell"},this.props.email," "),s.a.createElement("td",null,this.props.department.role," ")))}}]),t}(s.a.Component),g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={userName:"",userId:"",prevId:""},a.handleReset=function(e){a.props.onClick([])},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"tableLeft"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"row header",id:"userTable"},s.a.createElement("th",{className:"cell"},"User ID"),s.a.createElement("th",{className:"cell"},"Name"),s.a.createElement("th",{className:"cell"},"Email"),s.a.createElement("th",{className:"cell"},"Role"))," "),this.props.rows.map(function(t){return s.a.createElement(b,Object.assign({key:t.userId,onClick:e.props.onClick,cvs:e.props.cvs,prevId:e.state.prevId},t))})))}}]),t}(s.a.Component),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).statusSelector=null,a.setStatusSelector=function(e){a.statusSelector=e,null!=a.statusSelector&&(a.statusSelector.value=a.props.status,console.log("Viewer ID:  "+a.props.viewerId),1==a.props.viewerId|6==a.props.viewerId&&(a.statusSelector.disabled=!0),console.log("Element : "+e))},a.updateStatus=function(e){var t="https://qacvmanager.azurewebsites.net/api/cv/"+a.props.cvId+"/status/";console.log("Obj: "+a.statusSelector.value),window.confirm("Confirm Status")&&h.a.get(t+a.statusSelector.value)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("select",{onChange:this.updateStatus,ref:this.setStatusSelector},s.a.createElement("option",{value:"Gray"},"Gray"),s.a.createElement("option",{value:"Green"},"Green"),s.a.createElement("option",{value:"Red"},"Red")))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={test:""},a.updateStatus=function(e){(e.preventDefault(),window.confirm("Confirm Delete"))&&h.a.get(a.deleteUrl).then(function(t){a.handleCV(e)})},a.handleCV=function(e){e.preventDefault(),console.log("Reloaded:",a.props.user.userId),a.setState({color:"#AAAAAA"}),h.a.get("https://qacvmanager.azurewebsites.net/api/user/".concat(a.props.user.userId,"/cv")).then(function(e){a.props.onClick(e.data)})},a.downloadUrl="https://qacvmanager.azurewebsites.net/api/cv/"+e.cvId+"/download",a.downIco="https://image.flaticon.com/icons/svg/138/138601.svg",a.deleteUrl="https://qacvmanager.azurewebsites.net/api/cv/"+e.cvId+"/delete",a.delIco="https://image.flaticon.com/icons/png/128/138/138767.png",a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("tbody",null,s.a.createElement("tr",{className:"row"},s.a.createElement("td",{className:"cell"},this.props.fileName),s.a.createElement("td",null,s.a.createElement(E,{changed:this.testState,userId:this.props.user.userId,viewerId:this.props.viewerId,cvId:this.props.cvId,status:this.props.status,findCv:this.findCv})),s.a.createElement("td",{className:"cell"},s.a.createElement("a",{href:this.downloadUrl},s.a.createElement("img",{src:this.downIco,alt:"Download"}))),s.a.createElement("td",{className:"cell"},s.a.createElement("a",{onClick:function(t){e.updateStatus(t)}},s.a.createElement("img",{src:this.delIco,alt:"Delete"})))))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={userName:"",userId:"",prevId:""},a.handleReset=function(e){a.props.onClick([])},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"tableRight",style:{visibility:this.props.visibility}},s.a.createElement("table",{className:"table",id:"cvTable"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"row header",onClick:this.props.handleVisibility},s.a.createElement("th",{className:"cell"},"File Name"),s.a.createElement("th",{className:"cell"},"Status"),s.a.createElement("th",{className:"cell"},"Download"),s.a.createElement("th",{className:"cell"},"Delete"))),this.props.cvs.map(function(t){return s.a.createElement(I,Object.assign({onClick:e.props.onClick,cvs:e.props.cvs,prevId:e.state.prevId,viewerId:e.props.viewerId,key:t.cvId,findCv:e.props.findCv},t))})))}}]),t}(s.a.Component),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).uploadCv=function(e){var t="https://qacvmanager.azurewebsites.net/api/user/"+a.props.userId+"/upload",n=new FormData,s=document.querySelector("#file");n.append("file",s.files[0]),console.log("Sending "),window.confirm("Confirm Status")&&(h.a.post(t,n,{headers:{"Content-Type":"multipart/form-data"}}),s.value=null)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("input",{id:"file",type:"file",name:"file"}),s.a.createElement("button",{type:"submit",onClick:this.uploadCv},"Upload"))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={userName:""},a.handleSubmit=function(e){e.preventDefault(),console.log("Search Event: onSubmit",a.state.userName),h.a.get("https://qacvmanager.azurewebsites.net/api/findbyname/".concat(a.state.userName,"&")).then(function(e){a.props.onSubmit(e.data),console.log(e.data)})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",value:this.state.userName,onChange:function(t){return e.setState({userName:t.target.value})},placeholder:"Enter user"}),s.a.createElement("button",{type:"submit"},"Find user")))}}]),t}(s.a.Component),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={userId:""},a.handleCV=function(e){e.preventDefault(),console.log("CV Event: onSubmitCV",a.state.userId),h.a.get("https://qacvmanager.azurewebsites.net/api/user/".concat(a.state.userId,"/cv")).then(function(e){a.props.onSubmit(e.data),console.log(e.data)})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.handleCV},s.a.createElement("input",{type:"text",value:this.state.userId,onChange:function(t){return e.setState({userId:t.target.value})},placeholder:"Enter ID"}),s.a.createElement("button",{type:"submit"},"Find CVs")))}}]),t}(s.a.Component),y=(s.a.Component,function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={visibility:"visible"},a.showTable=function(){a.setState(function(e){return{visibility:"visible"}})},a.hideTable=function(){a.setState(function(e){return{visibility:"hidden"}})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://qacvmanager.azurewebsites.net/api/user/".concat(this.props.loginInfo[0],"/cv")).then(function(t){e.props.findCv(t.data),console.log(t.data)})}},{key:"render",value:function(){return 1===this.props.loginInfo[4]?s.a.createElement("div",{id:"trainee"},s.a.createElement(v,{userId:this.props.loginInfo[0],firstName:this.props.loginInfo[1],lastName:this.props.loginInfo[2],role:this.props.loginInfo[5]}),s.a.createElement(C,{userId:this.props.loginInfo[0]}),s.a.createElement(w,{viewerId:this.props.loginInfo[4],cvs:this.props.cvs,onClick:this.props.findCv,visibility:this.state.visibility})):2===this.props.loginInfo[4]?s.a.createElement("div",{id:"trainer"},s.a.createElement(v,{userId:this.props.loginInfo[1],firstName:this.props.loginInfo[1],lastName:this.props.loginInfo[2],role:this.props.loginInfo[5]}),s.a.createElement(j,{onSubmit:this.props.findUser}),s.a.createElement(g,{rows:this.props.rows,onClick:this.props.findCv,cvs:this.props.cvs}),s.a.createElement(w,{viewerId:this.props.loginInfo[4],cvs:this.props.cvs,onClick:this.props.findCv,visibility:this.state.visibility})):3===this.props.loginInfo[4]?s.a.createElement("div",{id:"manager"},s.a.createElement(v,{userId:this.props.loginInfo[1],firstName:this.props.loginInfo[1],lastName:this.props.loginInfo[2],role:this.props.loginInfo[5]}),s.a.createElement(j,{onSubmit:this.props.findUser}),s.a.createElement(g,{rows:this.props.rows}),s.a.createElement(w,{viewerId:this.props.loginInfo[4],cvs:this.props.cvs,onClick:this.props.findCv,visibility:this.state.visibility}),s.a.createElement(O,{onSubmit:this.props.findCv})):4===this.props.loginInfo[4]?s.a.createElement("div",{id:"sales"},s.a.createElement(v,{userId:this.props.loginInfo[1],firstName:this.props.loginInfo[1],lastName:this.props.loginInfo[2],role:this.props.loginInfo[5]}),s.a.createElement(j,{onSubmit:this.props.findUser}),s.a.createElement(g,{rows:this.props.rows}),s.a.createElement(w,{viewerId:this.props.loginInfo[4],cvs:this.props.cvs,onClick:this.props.findCv,visibility:this.state.visibility}),s.a.createElement(O,{onSubmit:this.props.findCv})):5===this.props.loginInfo[4]?s.a.createElement("div",{id:"soft"},s.a.createElement(v,{userId:this.props.loginInfo[1],firstName:this.props.loginInfo[1],lastName:this.props.loginInfo[2],role:this.props.loginInfo[5]}),s.a.createElement(j,{onSubmit:this.props.findUser}),s.a.createElement(g,{rows:this.props.rows}),s.a.createElement(w,{viewerId:this.props.loginInfo[4],cvs:this.props.cvs,onClick:this.props.findCv,visibility:this.state.visibility}),s.a.createElement(O,{onSubmit:this.props.findCv})):6===this.props.loginInfo[4]?s.a.createElement("div",{id:"consultants"},s.a.createElement(v,{userId:this.props.loginInfo[1],firstName:this.props.loginInfo[1],lastName:this.props.loginInfo[2],role:this.props.loginInfo[5]}),s.a.createElement(j,{onSubmit:this.props.findUser}),s.a.createElement(g,{rows:this.props.rows}),s.a.createElement(w,{viewerId:this.props.loginInfo[4],cvs:this.props.cvs,onClick:this.props.findCv,visibility:this.state.visibility}),s.a.createElement(O,{onSubmit:this.props.findCv,onClick:this.changeVisibility})):s.a.createElement("div",{id:"noDep"},s.a.createElement("h1",null,s.a.createElement("a",{href:"#/login"},"Please log in.")))}}]),t}(s.a.Component)),N=a(53),S=a(54),k=a(51),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).findUser=function(e){a.setState(function(t){return{rows:e}})},a.findCv=function(e){a.setState(function(t){return{cvs:e}})},a.resetCV=function(e){a.setState(function(t){return{cvs:e}}),console.log("Reset CVs to "+e)},a.logIn=function(e){a.setState(function(t){return{loginInfo:e}})},a.refreshCV=function(){a.setState(function(e){return{}})},a.state={loginInfo:[],cvs:[],rows:[]},a.baseState=a.state,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(N.a,null,s.a.createElement("div",null,s.a.createElement("ul",{className:"header"},s.a.createElement("li",null,s.a.createElement(S.a,{exact:!0,to:"/user"},"User")),s.a.createElement("li",null,s.a.createElement(S.a,{exact:!0,to:"/login"},"Log in"))),s.a.createElement("div",{className:"content"},s.a.createElement(k.a,{exact:!0,path:"/login",render:function(t){return s.a.createElement(f,Object.assign({},t,{onSubmit:e.logIn,loginInfo:e.state.loginInfo}))}}),s.a.createElement(k.a,{path:"/user",render:function(t){return s.a.createElement(y,Object.assign({},t,{loginInfo:e.state.loginInfo,rows:e.state.rows,cvs:e.state.cvs,resetCV:e.resetCV,findUser:e.findUser,findCv:e.findCv}))}}))))}}]),t}(s.a.Component);o.a.render(s.a.createElement(D,null),document.getElementById("root"))}},[[23,2,1]]]);
//# sourceMappingURL=main.0c388a28.chunk.js.map